<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Login – Infront of Us</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="icon" href="loader.jpg" />
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <header class="navbar">
    <div class="container nav-inner">
      <div class="brand">
        <img src="mainlogo2.png" alt="Infront of Us logo" />
        <div class="brand-title"><span>I</span>nfront <span>O</span>f <span>U</span>s</div>
      </div>
      <nav>
        <ul class="nav-links">
          <li><a href="index.html">Home</a></li>
          <li><a href="courses.html">Courses</a></li>
        </ul>
      </nav>
      <div class="hamburger">&#9776;</div>
    </div>
  </header>

  <main class="auth-wrapper">
    <div class="auth-card">
      <div class="auth-inner">
        <div class="auth-tabs">
          <div id="tab-login" class="auth-tab active">Login</div>
          <div id="tab-register" class="auth-tab">Create account</div>
        </div>

        <h1 class="auth-title">Welcome back</h1>
        <p class="auth-sub">
          Login to continue your journey with Infront of Us.
        </p>

        <form id="auth-form">
          <div id="name-group" class="form-group" style="display:none;">
            <label class="form-label" for="name">Full name</label>
            <input class="form-control" type="text" name="name" id="name" />
          </div>

          <div class="form-group">
            <label class="form-label" for="email">Email</label>
            <input class="form-control" type="email" name="email" id="email" required />
          </div>

          <div class="form-group">
            <label class="form-label" for="password">Password</label>
            <input class="form-control" type="password" name="password" id="password" required />
          </div>

          <button type="submit" class="btn" style="width:100%;justify-content:center;margin-top:0.7rem;">
            Continue →
          </button>
        </form>
      </div>
    </div>
  </main>

  <footer class="footer">
    <div class="container">
      <p>© 2025 Infront of Us Pvt. Ltd.</p>
    </div>
  </footer>

  <script src="https://checkout.razorpay.com/v1/checkout.js"></script>
  <script src="main.js"></script>
  <script>
document.addEventListener('DOMContentLoaded', function() {
  const form = document.getElementById('auth-form');
  const tabLogin = document.getElementById('tab-login');
  const tabRegister = document.getElementById('tab-register');
  const nameGroup = document.getElementById('name-group');

  let mode = 'login';

  tabLogin.addEventListener('click', () => {
    mode = 'login';
    tabLogin.classList.add('active');
    tabRegister.classList.remove('active');
    nameGroup.style.display = 'none';
  });

  tabRegister.addEventListener('click', () => {
    mode = 'register';
    tabRegister.classList.add('active');
    tabLogin.classList.remove('active');
    nameGroup.style.display = 'block';
  });

  form.addEventListener('submit', async (e) => {
    e.preventDefault();
    const email = document.getElementById('email').value;
    const password = document.getElementById('password').value;

    try {
      if (mode === 'login') {
        await AuthService.login(email, password);
        alert('Login successful');
      } else {
        const name = document.getElementById('name').value;
        await AuthService.register(name, email, password);
        alert('Account created');
      }
      window.location.href = 'index.html';
    } catch (err) {
      alert(err.message);
    }
  });
});
</script>

</body>
</html>
